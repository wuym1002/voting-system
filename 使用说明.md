# 汇报评分投票系统 - 使用说明

## 🎯 系统已成功启动！

### 访问地址
- **网站地址**: http://localhost:5000
- **状态**: ✅ 正在运行中

### 🚀 快速开始

#### 1. 启动系统
```bash
# 方法1：使用启动脚本（推荐）
./start_server.sh

# 方法2：手动启动
source voting_env/bin/activate
python3 app.py
```

#### 2. 访问网站
在浏览器中打开：http://localhost:5000

#### 3. 停止系统
按 `Ctrl + C` 停止服务器

### 📋 功能使用流程

#### 管理员操作：
1. **创建汇报投票**
   - 点击首页的"创建新投票"按钮
   - 填写汇报标题、内容描述、创建者姓名
   - 可选择设置投票截止时间
   - 点击"创建投票"

2. **管理投票**
   - 查看所有汇报项目列表
   - 点击"查看详情"查看投票结果
   - 可以关闭投票（关闭后无法继续投票）

#### 评委操作：
1. **参与投票**
   - 在首页选择要投票的汇报项目
   - 点击"投票"按钮
   - 输入评委姓名
   - 选择评分（-3分到+3分）
   - 填写评价意见（可选）
   - 提交投票

2. **查看个人投票记录**
   - 投票成功后，自动跳转到个人视图
   - 只能看到自己的投票记录和评分
   - 可以看到总体统计信息（最终得分、投票人数等）
   - 无法看到其他评委的具体投票详情

3. **查询历史投票**
   - 点击导航栏的"查询记录"
   - 输入评委姓名查看所有历史投票
   - 查看每次投票的详细信息

### 📊 评分规则

- **基础分**: 5分（固定）
- **评委评分**: -3分到+3分
- **最终得分**: 基础分(5分) + 平均评分
- **投票限制**: 每个评委对同一汇报只能投票一次

### 🔧 技术信息

- **后端**: Python Flask + MySQL
- **前端**: Bootstrap 5 响应式设计
- **数据库**: 自动创建voting_system数据库
- **虚拟环境**: voting_env

### 🆘 常见问题

#### Q: 网站打不开？
A: 
1. 确保MySQL服务正在运行：`brew services start mysql`
2. 检查虚拟环境是否激活：`source voting_env/bin/activate`
3. 确认端口5000未被占用

#### Q: 数据库连接失败？
A: 
1. 检查MySQL服务状态：`brew services list | grep mysql`
2. 确认数据库配置正确（app.py中的DB_CONFIG）
3. 系统会自动创建数据库和表

#### Q: 投票失败？
A: 
1. 检查评分是否在-3到+3范围内
2. 确认评委姓名已填写
3. 检查是否已经对该汇报投过票

### 📱 移动端支持

系统采用响应式设计，支持：
- 手机浏览器访问
- 平板电脑访问
- 桌面电脑访问

### 🔒 隐私保护和安全特性

- **隐私保护**：评委只能看到自己的投票记录，无法查看其他评委的具体投票
- **防重复投票**：同一评委对同一汇报只能投票一次
- **权限分离**：个人视图和管理员视图分离
- **输入验证**：严格的输入验证和过滤
- **SQL注入防护**：使用参数化查询防止SQL注入
- **评分范围限制**：评分严格限制在-3到+3范围内

---

**系统状态**: ✅ 运行中  
**访问地址**: http://localhost:5000  
**技术支持**: 如有问题请联系系统管理员